<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Page</title>

    <!-- Stylesheet Links -->
    <link rel="stylesheet" href="Styles/event-style.css" />
    <link rel="stylesheet" href="Styles/style-main.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    <!-- Main Script -->
    <script type="module" src="scripts/Event-Page/event-script.js" defer></script>
    
    <!-- Leaflet OpenStreetMap -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

    <!-- Link Chart.js v4 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" defer></script>
    <!-- Link Chart.js Annotation Plugin for v4 -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.1.0/dist/chartjs-plugin-annotation.min.js" defer></script>
</head>

<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <main id="main-content" class="main-container">
        <section class="navigation-bar-container">
            <img class="site-logo" src="Img/StatmandoLogo.png" alt="Logo">

            <div>
                <a href="./index.html" target="_parent" class="navigation-link"><span>Home</span></a>
                <a href="./event-page.html" target="_parent" class="navigation-link"><span>Event Viewer</span></a>
                <a href="#" target="_blank" rel="noopener noreferrer" class="navigation-link"><span>About Us</span></a>
            </div>
        </section>

        <section class="content-container">
            <h1>Event Statistics Dashboard</h1>

            <section class="stats-container">
                <h2>Statistics for <span id="selectedEventName">All Events</span></h2>
                <p>Overview of player metrics and reach.</p>
                <div class="stats-card-container">
                    <div class="total-players-card stat-card" role="status" aria-live="polite">
                        <p>Total Players</p>
                        <p id="total-players">--</p>
                    </div>
                    <div class="average-distance-card stat-card" role="status" aria-live="polite">
                        <p>Avg Distance</p>
                        <p id="average-distance">--</p>
                    </div>
                    <div class="greater-than-card stat-card" role="status" aria-live="polite">
                        <p><span>>1000 mi</span></p>
                        <p id="greater-than">--</p>
                    </div>
                    <div class="less-than-card stat-card" role="status" aria-live="polite">
                        <p><span>>100 mi</span></p>
                        <p id="less-than">--</p>
                    </div>
                    <div class="out-of-state-card stat-card" role="status" aria-live="polite">
                        <p>Out Of State Players</p>
                        <p id="out-of-state">--</p>
                    </div>
                    <div class="in-state-card stat-card" role="status" aria-live="polite">
                        <p>In State Players</p>
                        <p id="in-state">--</p>
                    </div>
                    <div class="max-card stat-card" role="status" aria-live="polite">
                        <p>Max Distance</p>
                        <p id="max">--</p>
                    </div>
                    <div class="min-card stat-card" role="status" aria-live="polite">
                        <p>Min Distance</p>
                        <p id="min">--</p>
                    </div>
                </div>
            </section>

            <section class="map-container">
                <section class="search-filter-container">
                    <label for="event">Choose an event:</label>
                    <input list="events" id="event-search" name="event-search" class="event-input" placeholder="Search Events...">

                    <datalist id="events">
                        </datalist>

                    <select id="tierFilter">
                        <option value="">All Tiers</option>
                    </select>

                    <select id="countryFilter">
                        <option value="">All Countries</option>
                    </select>

                    <select id="stateFilter">
                        <option value="">All States</option>
                    </select>
                    <button class="button" id="reset-filters" type="button">Reset Filters</button>
                </section>

                <div id="mapid" class="mapid"></div>
            </section>

            <section class="top-players-panel">
                <h2>Top Players</h2>
                <p>Current event's top performers.</p>
                <div>
                    <ol id="topPlayersList" aria-live="polite">
                        </ol>
                </div>
            </section>

            <section id="chart1" class="chart-box">
                <h3>Top 25 Players by Travel Distance</h3>
                <canvas id="chartDistance"></canvas>
            </section>
            <section id="chart2" class="chart-box">
                <h3>Players per State</h3>
                <canvas id="chartStates"></canvas>
            </section>

        </section>
    </main>
</body>

</html>